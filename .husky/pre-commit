#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "π” μ»¤λ°‹ μ „ κ²€μ‚¬ μ‹μ‘..."

# TypeScript νƒ€μ… μ²΄ν¬
echo "π“ TypeScript νƒ€μ… μ²΄ν¬ μ‹¤ν–‰ μ¤‘..."
npm run type-check || {
  echo "β TypeScript νƒ€μ… μ—λ¬κ°€ μμµλ‹λ‹¤. μ»¤λ°‹μ„ μ¤‘λ‹¨ν•©λ‹λ‹¤."
  exit 1
}

# ESLint κ²€μ‚¬ (staged νμΌλ§)
echo "π” ESLint λ¦°νΈ κ²€μ‚¬ μ‹¤ν–‰ μ¤‘..."
npx lint-staged || {
  echo "β ESLint μ—λ¬κ°€ μμµλ‹λ‹¤. μ»¤λ°‹μ„ μ¤‘λ‹¨ν•©λ‹λ‹¤."
  exit 1
}

echo "β… λ¨λ“  κ²€μ‚¬ ν†µκ³Ό!"
